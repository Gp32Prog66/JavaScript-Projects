<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>CMPS 260: Module 12 Homework</title>
  <style>
    * {
      font-family: monospace;
    }
  </style>
  <script>
    //-----------//
    // Recursion //
    //-----------//
    console.log("Recursion");

    // 1. Implement factorial using a recursive function and test your code.

    function fib(num) {
      if (num === 1 || num === 2) {
        return 1;
      }
      return fib(num - 1) + fib(num - 2);
    }

    //NonRecursive
    function nonRecFib(num) {
      var n1 = 1, n2 = 1, n = 1;

      for (var i = 3; i <= num; i++) {
        n = n1 + n2;
        n1 = n2;
        n2 = n;
      }
      return n;
    }

    //Testing the Recursion and NonRecursion Fibonachi Sequence

    console.log("Fibonacci Sequence");
    console.log(fib(10));
    console.log(fib(6));

    console.log("NonRecursive Fibonacci Sequence");
    console.log(fib(10));
    console.log(nonRecFib(6));

    //---------------------//
    // Dynamic programming //
    //---------------------//
    console.log("Dynamic programming");

    // 1. Implement finding the longest common subsequence using dynamic
    //    programming. Test your code.

    function lcs(wordX, wordY) {

      var m = wordX.length,
        n = wordY.length,
        l = [],
        i, j, a, b;

      for (i = 0; i <= m; i++) {
        l[i] = [];

        for (j = 0; j <= n; j++) {
          l[i][j] = 0;
        }
      }

      for (i = 0; i <= m; i++) {
        for (j = 0; j <= n; j++) {
          if (i == 0 || j == 0) {
            l[i][j] = 0;
          }
          else if (wordX[i - 1] == wordY[j - 1]) {
            l[i][j] = l[i - 1][j - 1] + 1;
          }
          else {
            a = l[i - 1][j];
            b = l[i][j - 1];
            l[i][j] = (a > b) ? a : b;
          }
        }
      }
      return l[m][n];
    }


    function printSolution(solution, l, wordX, wordY, m, n) {

      var a;
      var m;
      a = m;
      var b;
      var n;
      b = n;
      var i;
      var j;
      var x;
      var solution;
      x = solution = [a][b];
      var answer = '';

      while (x !== '0') {
        if (solution[a][b] === 'diagonal') {
          answer = wordX[a - 1] + answer;
          a--;
          b--;
        }
        else if (solution[a][b] === 'left') {
          b--;
        }
        else if (solution[a][b] === 'top') {
          a--;
        }
        x = solution[a][b];
      }
      console.log('lcs: ' + answer);

      return solution;
    }


    //Testing the Longest Common Subsequence

    var subStringOne = 'acbaed';
    var subStringTwo = 'abcadf';

    console.log("Longest Common Sequence");

    console.log(lcs('acbaed', 'abcadf'));

    // console.log(printSolution([1][1], 0, subStringOne, subStringTwo, [1], [1]));


    //----------------------------------------//
    // Introduction to functional programming //
    //----------------------------------------//
    console.log("Introduction to functional programming");

    // 1. Solve the problem of summing all the numbers in an array using
    //    imperative style.

    var sumValues = function (array) {
      var total = array[0];

      for (var i = 1; i < array.length; i++) {
        total += array[i];
      }
      return total;
    };

    //Printing Results
    console.log(sumValues([1, 3, 5, 6, 7, 9, 20]));

    // 2. Solve the problem of summing all the numbers in an array using
    //    functional style.

    var sum_ = function (array) {
      return array.reduce(function (a, b) {
        return a + b;
      })
    };

    //Printing Results
    console.log(sum_([1, 3, 5, 6, 7, 9, 20]));

    //ES2015

    const sum = arr => arr.reduce((a, b) => a + b);
    console.log(sum([1, 3, 5, 6, 7, 9, 20]))


    //---------//
    // Project //
    //---------//
    console.log("Project");

    // 1. Solve problem 14 of Project Euler: https://projecteuler.net/problem=14
    //    Note: This may be a bit challenging. Try to get as far as you can.
    //          Instead of one million you could use a smaller number for testing.

    //Longest Collatz Sequence 

    function longestCollatzSequence(size) {
      {
        //Declare Variables

        var longestSequence = 0;
        var longestValue = 0;

        for (var i = 1; i < size; i++) {

          var nTerms = 1;
          var currentTerm = i;

          while (currentTerm != 1) {
            //Check if it is Even
            if (currentTerm % 2 === 0) {
              currentTerm = currentTerm / 2;
            }
            else
            //Must be Odd
            {
              currentTerm = (3 * currentTerm) + 1;
            }

            //Increment Number of Terms
            nTerms = nTerms + 1;
          }

          //Calculate Colatz Sequence
          if (longestSequence < nTerms) {
            longestSequence = nTerms;
            longestValue = i;
          }
        }
        return longestValue;
      }
    }
    //Testing Variables
    var startNumberOne = 13;

    var startNumberTwo = 50;

    var startNumberThree = 837799;

    var startNumberFour = 1000000;

    //Printing Results

    console.log("Testing out testSequence Variable " + longestCollatzSequence(startNumberOne));

    console.log("Testing out testSequenceTwo Variable " + longestCollatzSequence(startNumberTwo));

    console.log("Testing out testSequenceThree Variable " + longestCollatzSequence(startNumberThree));

    console.log("Testing out testSequenceFour Variable " + longestCollatzSequence(startNumberFour));




  </script>
</head>

<body>
  See console!
</body>

</html>